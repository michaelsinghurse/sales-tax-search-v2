(this.webpackJsonpsales_tax_app_v2=this.webpackJsonpsales_tax_app_v2||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/map-error.02614f01.png"},22:function(e,t,a){e.exports=a.p+"static/media/michael-singhurse.55f6a911.png"},25:function(e,t,a){e.exports=a(42)},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),i=a.n(l),c=(a(30),a(31),a(6)),s=a(7),o=a(9),u=a(8),m=(a(32),a(12)),d=a(1),h=a(24),p=a(10),E=(a(33),a(15)),y=function(e,t){var a="";switch(e){case"street":a=t.trim().length>0?"":"Street is required.";break;case"city":a=t.trim().length>0?"":"City is required.";break;case"state":a=/^[A-Za-z]{2}$/.test(t)?"":"State must contain the two-letter state abbreviation.";break;case"zip":a=/^\d{5}$/.test(t)?"":"Zip must contain the 5-digit zip code."}return a},b=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={street:"",city:"",state:"",zip:"",errors:{street:"",city:"",state:"",zip:""}},n.handleChange=n.handleChange.bind(Object(p.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(p.a)(n)),n}return Object(s.a)(a,[{key:"handleChange",value:function(e){var t,a=e.target,n=a.name,r=a.value,l=this.state.errors;l[n]=y(n,r),this.setState((t={},Object(E.a)(t,n,r),Object(E.a)(t,"errors",l),t))}},{key:"handleSubmit",value:function(e){e.preventDefault();for(var t,a=this.state.errors,n=e.target.elements,r=0;r<n.length;r+=1){var l=n[r];"INPUT"===l.nodeName&&(a[l.name]=y(l.name,l.value))}(t=a,Object.values(t).some((function(e){return""!==e})))?this.setState({errors:a}):(this.props.onFormSubmit({street:this.state.street.trim(),city:this.state.city.trim(),state:this.state.state.trim(),zip:this.state.zip.trim()}),this.setState({street:"",city:"",state:"",zip:"",errors:a}))}},{key:"render",value:function(){var e=function(e){var t=[];for(var a in e){var n=e[a];n&&t.push(r.a.createElement("li",{key:a},"\u26a0"+n))}return t}(this.state.errors);return r.a.createElement("div",null,r.a.createElement("form",{noValidate:!0,className:"search-form",onSubmit:this.handleSubmit},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Enter Your Sales Location"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"street",className:"label-street"},"Street:"),r.a.createElement("input",{id:"street",name:"street",type:"text",className:"input-street",value:this.state.street,onChange:this.handleChange})),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"city"},"City:"),r.a.createElement("input",{id:"city",name:"city",type:"text",className:"input-city",value:this.state.city,onChange:this.handleChange})),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"state"},"State:"),r.a.createElement("input",{id:"state",name:"state",type:"text",className:"input-state",value:this.state.state,onChange:this.handleChange})),r.a.createElement("li",null,r.a.createElement("label",{htmlFor:"zip"},"Zip:"),r.a.createElement("input",{id:"zip",name:"zip",type:"text",className:"input-zip",value:this.state.zip,onChange:this.handleChange})))),r.a.createElement("button",{type:"submit"},"Find Rates")),r.a.createElement("ul",{className:"search-form-errors"},e))}}]),a}(r.a.Component);function v(e){return r.a.createElement("ul",{className:"results-input"},r.a.createElement("li",null,r.a.createElement("span",null,"Street:"),e.inputs.street),r.a.createElement("li",null,r.a.createElement("span",null,"City:"),e.inputs.city),r.a.createElement("li",null,r.a.createElement("span",null,"State:"),e.inputs.state),r.a.createElement("li",null,r.a.createElement("span",null,"Zip:"),e.inputs.zip))}var f=a(21),g=a.n(f),j=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.geocode?JSON.parse(this.props.geocode):"",t=this.props.searchId,a=document.querySelector("#search".concat(t," .map"));if(e){var n=new google.maps.Map(a,{center:e,zoom:10});new google.maps.Marker({position:e,map:n,title:"Sales Location"})}else{var r=document.createElement("img");r.setAttribute("src",g.a),a.append(r)}}},{key:"render",value:function(){return r.a.createElement("div",{className:"map-container","aria-label":"google map with pin on the sales location"},r.a.createElement("div",{className:"map"}," "))}}]),a}(r.a.Component),x=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleClick=n.handleClick.bind(Object(p.a)(n)),n}return Object(s.a)(a,[{key:"handleClick",value:function(e){var t,a=e.currentTarget.children[0],n=document.querySelector(this.props.targetId);(n.select(),navigator.clipboard)?navigator.clipboard.writeText(n.value).then((function(){t="Copied!"})).catch((function(e){t="Press Ctrl+C to copy!"})).finally((function(){a.innerText=t,setTimeout((function(){a.innerText="Copy"}),3e3)})):(document.execCommand("copy"),a.innerText="Copied!",setTimeout((function(){a.innerText="Copy"}),3e3))}},{key:"render",value:function(){return r.a.createElement("button",{type:"button",className:"btn-copy",onClick:this.handleClick,"aria-label":"Copy rate to clipboard"},".",r.a.createElement("span",{className:"tooltiptext"},"Copy"))}}]),a}(r.a.Component);function k(e){var t=e.searchId,a=e.rates,n=e.location||{};return r.a.createElement("ul",{className:"results-rates"},r.a.createElement("li",null,r.a.createElement("ul",{className:"jurisdiction-list"},r.a.createElement("li",{className:"jurisdiction-level"},"Total Rate"),r.a.createElement("li",{className:"jurisdiction-name"}," "),r.a.createElement("li",{className:"jurisdiction-rate"},r.a.createElement("input",{id:"rate-total"+t,type:"text",value:a.totalRate,"aria-label":"The total rate is "+a.totalRate,readOnly:!0}),r.a.createElement(x,{targetId:"#rate-total"+t})))),r.a.createElement("li",null,r.a.createElement("ul",{className:"jurisdiction-list"},r.a.createElement("li",{className:"jurisdiction-level"},"State"),r.a.createElement("li",{className:"jurisdiction-name"},r.a.createElement("input",{id:"name-state"+t,type:"text",value:n.state,"aria-label":"The jurisdiction name is "+n.state,readOnly:!0}),r.a.createElement(x,{targetId:"#name-state"+t})),r.a.createElement("li",{className:"jurisdiction-rate"},r.a.createElement("input",{id:"rate-state"+t,type:"text",value:a.stateRate,"aria-label":"The state rate is "+a.stateRate,readOnly:!0}),r.a.createElement(x,{targetId:"#rate-state"+t})))),r.a.createElement("li",null,r.a.createElement("ul",{className:"jurisdiction-list"},r.a.createElement("li",{className:"jurisdiction-level"},"County"),r.a.createElement("li",{className:"jurisdiction-name"},r.a.createElement("input",{id:"name-county"+t,type:"text",value:n.county,"aria-label":"The jurisdiction name is "+n.county,readOnly:!0}),r.a.createElement(x,{targetId:"#name-county"+t})),r.a.createElement("li",{className:"jurisdiction-rate"},r.a.createElement("input",{id:"rate-county"+t,type:"text",value:a.countyRate,"aria-label":"The county rate is "+a.countyRate,readOnly:!0}),r.a.createElement(x,{targetId:"#rate-county"+t})))),r.a.createElement("li",null,r.a.createElement("ul",{className:"jurisdiction-list"},r.a.createElement("li",{className:"jurisdiction-level"},"City"),r.a.createElement("li",{className:"jurisdiction-name"},r.a.createElement("input",{id:"name-city"+t,type:"text",value:n.city,"aria-label":"The jurisdiction name is "+n.city,readOnly:!0}),r.a.createElement(x,{targetId:"#name-city"+t})),r.a.createElement("li",{className:"jurisdiction-rate"},r.a.createElement("input",{id:"rate-city"+t,type:"text",value:a.cityRate,"aria-label":"The city rate is "+a.cityRate,readOnly:!0}),r.a.createElement(x,{targetId:"#rate-city"+t})))),r.a.createElement("li",null,r.a.createElement("ul",{className:"jurisdiction-list"},r.a.createElement("li",{className:"jurisdiction-level"},"Districts"),r.a.createElement("li",{className:"jurisdiction-name"}," "),r.a.createElement("li",{className:"jurisdiction-rate"},r.a.createElement("input",{id:"rate-combined-district"+t,type:"text",value:a.totalDistrictRate,"aria-label":"The combined-district rate is "+a.totalDistrictRate,readOnly:!0}),r.a.createElement(x,{targetId:"#rate-combined-district"+t})))))}function N(e){return r.a.createElement("div",{className:"no-rates-message"},r.a.createElement("p",null,"We are unable to determine the tax rates for this location. Please check the address and try again."))}function C(e){var t=e.inputs||{},a=e.location||{},n=e.rates||{},l=t.searchId;return r.a.createElement("li",{id:"search"+l},r.a.createElement("div",{className:"input-and-rates-container"},r.a.createElement(v,{inputs:t}),Object.keys(n).length>0&&r.a.createElement(k,{searchId:l,rates:n,location:a}),0===Object.keys(n).length&&r.a.createElement(N,null)),r.a.createElement(j,{geocode:a.latLng,searchId:l}))}function S(e){var t=e.results.map((function(e){return r.a.createElement(C,{key:"searchId"+e.inputs.searchId,inputs:e.inputs,location:e.location,rates:e.rates})}));return r.a.createElement("ul",{className:"results","aria-live":"assertive"},t)}var O=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={results:[],searchId:1},n.handleFormSubmit=n.handleFormSubmit.bind(Object(p.a)(n)),n}return Object(s.a)(a,[{key:"handleFormSubmit",value:function(e){var t=this;e.searchId=this.state.searchId;var a,n="/api/rates?"+(a=e,Object.keys(a).reduce((function(e,t){var n=encodeURIComponent(t)+"="+encodeURIComponent(a[t]);return e.push(n),e}),[]).join("&"));fetch(n).then((function(e){if(e.ok)return e;throw new Error(e.statusText)})).then((function(e){return e.json()})).then((function(e){t.setState((function(t,a){return{results:[e].concat(Object(h.a)(t.results)),searchId:t.searchId+1}}))})).catch((function(e){return console.log("Error:",e)}))}},{key:"render",value:function(){return r.a.createElement("div",{id:"search"},r.a.createElement(b,{onFormSubmit:this.handleFormSubmit}),r.a.createElement(S,{results:this.state.results}))}}]),a}(r.a.Component),I=a(22),w=a.n(I);a(34);function T(){return r.a.createElement("div",{id:"about"},r.a.createElement("h1",null,"About Sales Tax Search"),r.a.createElement("p",null,"I created this website to help tax preparers with the often tedious and time consuming task of looking up the sales tax rates for an address or sales location."),r.a.createElement("p",null,'Prior to becoming a software developer, I worked as a tax analyst for over three years, and my speciality was sales and use tax compliance. While reviewing transactions and preparing returns, I would repeatedly have to go back to Google and search for something like "sales tax Chicago IL" or "sales tax zip 60302."'),r.a.createElement("p",null,"In addition to looking up the rate at a given address, it's often helpful to see where that address is on the map. You can see where the location is relative to other taxing jurisdiction boundaries nearby and may need to do more research if it's near a county or city line."),r.a.createElement("p",null,"If you have any feedback about how I can make this site more useful, please reach out to me via email."),r.a.createElement("p",null,"Thanks and all the best to you,"),r.a.createElement("figure",null,r.a.createElement("img",{src:w.a,alt:"Michael Singhurse"})),r.a.createElement("address",null,r.a.createElement("p",null,"Michael Singhurse"),r.a.createElement("p",null,r.a.createElement("a",{href:"mailto:singhurse@lisieuxresearch.com"},"singhurse@lisieuxresearch.com"))),r.a.createElement("p",null,"P.S. If you're interested in how I built the site, check out the project on ",r.a.createElement("a",{href:"https://github.com/michaelsinghurse/sales-tax-search"},"GitHub"),"!"))}a(35);function z(){return r.a.createElement("div",{id:"login"},r.a.createElement("h1",null,"Sales Tax Search"),r.a.createElement("form",{action:"#",method:"get",className:"login-form"},r.a.createElement("fieldset",null,r.a.createElement("dl",null,r.a.createElement("dt",null,"Username"),r.a.createElement("dd",null,r.a.createElement("input",{type:"text",required:!0})),r.a.createElement("dt",null,"Password"),r.a.createElement("dd",null,r.a.createElement("input",{type:"password",required:!0}))),r.a.createElement("button",{type:"submit"},"Sign in"))))}a(36);function R(){var e=Object(d.f)();return r.a.createElement("div",{id:"notfound"},r.a.createElement("h1",null,"Error 404 - Page Not Found!"),r.a.createElement("p",null,"The page ",r.a.createElement("code",null,e.pathname)," does not exist on this site."))}var F=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCscU9RgUSCIYhymz-ANHpZ2rZ8u-zjSxk",e.defer=!0,document.head.appendChild(e)}},{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("nav",null,r.a.createElement("ul",{className:"navbar-list"},r.a.createElement("li",null,r.a.createElement(m.b,{to:"/"},"Sales Tax Search")),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/about"},"About")),r.a.createElement("li",null,r.a.createElement(m.b,{to:"/login"},"Log In"))))),r.a.createElement("main",null,r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/"},r.a.createElement(O,null)),r.a.createElement(d.a,{path:"/about"},r.a.createElement(T,null)),r.a.createElement(d.a,{path:"/login"},r.a.createElement(z,null)),r.a.createElement(d.a,{path:"*"},r.a.createElement(R,null)))),r.a.createElement("footer",null,r.a.createElement("p",null,"\xa9 2020 Michael Singhurse"),r.a.createElement("p",null,r.a.createElement("a",{href:"https://lisieuxresearch.com"},"Lisieux Research, LLC")))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.606bf057.chunk.js.map